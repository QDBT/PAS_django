{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Application{% endblock %}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/9cd06d1369.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="AllContainer1">
        <div class="AllContainer2">
            <div class="AllContainer3">
                <div class="AllContainer4">
                    <header class="topbar">
                        <div class="topbar-left">
                            <button id="SideBarButton" class="btn btn-primary mr-2">
                                <i class="fa-solid fa-bars"></i>
                            </button>
                            <div class="logo mr-2" id="logo">
                                <a href="{% url 'home' username %}">
                                    <img src="{% static 'images/Logo.jpg' %}" height="30px" width="80px">
                                </a>
                            </div>
                            <div class="project-title">
                                <h1 class="h5">{{ project.title }}</h1> <!-- Smaller title size -->
                            </div>
                        </div>
                        <div class="topbar-middle">
                            <button id="Debug" class="btn btn-success mb-4">
                                <i class="fa-solid fa-play"></i>
                                <span>Run</span>
                            </button>
                        </div>
                        <div class="topbar-right">
                            {{ project.user }}
                        </div>
                        <input type="hidden" id="current-snippet-id" value=""> <!--To store the snippet ID-->
                    </header>
                    <div class="SidebarAndMain-container" >
                        <div class="SideBarContainer-1">
                            <div class="SideBarContainer-2">
                                <div class="SideBarContainer-3">
                                    <div class="SideBarSearch-1">
                                        <div class="SideBarSearch-2">
                                            <div class="SideBarSearch-3">
                                                <div class="SideBarSearch-4">
                                                    <div class="SideBarSearch-5">
                                                        <div class="SideBarSearch-6">
                                                            <input type="text" placeholder="Search" id="Search" class="SideBarSearch-Input">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="SideBarFilesHistory">
                                        <div class="resizer" style="position: relative; transition: height 120ms ease-out; height: 492px;">
                                            <div class="SideBarFilesOptions">
                                                <button class="SideBarFilesOptionsLeft">
                                                    <i class="fa-solid fa-angle-down Icon"></i>
                                                    <div class="ButtonExplain">
                                                        <span class="ButtonExplainSpan">Files</span>
                                                    </div>
                                                </button>
                                                <div class="SideBarFilesOptionsRight">
                                                    <button class="OptionButton">
                                                        <i class="fa-solid fa-file-circle-plus Icon"></i>
                                                    </button>
                                                    <button class="OptionButton">
                                                        <i class="fa-solid fa-folder-plus Icon" style="color: #FFD43B;"></i>
                                                    </button>
                                                    <button class="OptionButton">
                                                        <i class="fa-solid fa-ellipsis-vertical Icon"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="SideBarFilesIndex1">
                                                <div class="SideBarFilesIndex2">
                                                    <div class="SideBarFilesIndex3">
                                                        <div class="SideBarFilesIndex4">
                                                            <div class="SideBarFilesIndex5">
                                                                <div role="tree" class="SideBarFilesIndex6">
                                                                    <div role="treeitem" class="SideBarFilesTreeItems">
                                                                        <div title="" class="SideBarFilesTreeItems1">
                                                                            <div class="SideBarFilesIcon">
                                                                                <img class="Icon" src="{% static 'images/Python.jpg' %}"></img>
                                                                            </div>
                                                                            <div class="SideBarFilesName">{{snippets}}</div>
    
                                                                        </div>
                                                                        <button title="menu" class="SideBarFilesMenuButton">
                                                                            <img class="Icon"></img>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="SideBarFilesHistoryDivider1">
                                                <div class="SideBarFilesHistoryDivider2"></div>
                                            </div>
                                        </div>
                                        <div class="resizer" style="position: relative;
                                        transition: height 120ms ease-out;
                                        height: 340px;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="divider" dividerPosition="SidebarVsMain">
                            <div class="blanket"></div>
                            <div class="grip"></div>
                        </div>
                        <main id="main-content" class="MainContainer">
                            {% block content %}{% endblock %}
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    // Debug button functionality
    
        function checkCodeMirrorValue() {
        // Ensure CodeMirror instance is available
        var codeMirrorInstance = document.querySelector('.CodeMirror');
        if (codeMirrorInstance) {
            var editor = codeMirrorInstance.CodeMirror;
            console.log('CodeMirror Value:', editor.getValue());
        } else {
            console.log('No CodeMirror instance found');
        }
    }
//----------------------------------------------------------------
    //  libraries
    function compareDividers(div1, div2) {
        // Collect differences
        const differences = [];

        // Check attributes (for simplicity, we only check 'data-transformx' here, but you can add more attributes)
        const attributes = ['data-transformx'];
        attributes.forEach(attr => {
            const val1 = div1.getAttribute(attr);
            const val2 = div2.getAttribute(attr);
            if (val1 !== val2) {
                differences.push(`Difference in attribute '${attr}': ${val1} vs ${val2}`);
            }
        });

        // Check class names
        if (div1.className !== div2.className) {
            differences.push(`Difference in class names: '${div1.className}' vs '${div2.className}'`);
        }

        // Check CSS custom properties
        const cssProperties = ['--transformX', '--height', '--width'];
        cssProperties.forEach(cssProp => {
            const val1 = getComputedStyle(div1).getPropertyValue(cssProp);
            const val2 = getComputedStyle(div2).getPropertyValue(cssProp);
            if (val1 !== val2) {
                differences.push(`Difference in CSS variable '${cssProp}': ${val1} vs ${val2}`);
            }
        });

        // Check bounding box positions (top, left, width, height)
        const rect1 = div1.getBoundingClientRect();
        const rect2 = div2.getBoundingClientRect();
        if (rect1.left !== rect2.left || rect1.top !== rect2.top || rect1.width !== rect2.width || rect1.height !== rect2.height) {
            differences.push(`Difference in position: left=${rect1.left}, top=${rect1.top}, width=${rect1.width}, height=${rect1.height} vs left=${rect2.left}, top=${rect2.top}, width=${rect2.width}, height=${rect2.height}`);
        }

        // Check inner HTML content
        if (div1.innerHTML !== div2.innerHTML) {
            differences.push('Difference in inner HTML content');
        }

        // Output all differences or confirm equality
        if (differences.length > 0) {
            //console.log('Differences found:', differences);
            return false;
        } else {
           // console.log('No differences found between the two dividers.');
            return true;
        }
    };

    // A Function to reset all things positions in main
    function controlMainWidth(sidebarWidth,dividerWidth){
        
        //const mainWidth=window.innerWidth-(sidebarWidth+dividerWidth);
        //const panel=document.querySelector('.panelAll1');
        //const panelTransformX=sidebarWidth+dividerWidth;
        //const snippetBar=document.querySelector('.snippetBar')
        //panel.style.setProperty('--width', `${mainWidth}px`);
        //panel.style.setProperty('--transformX', `${panelTransformX}px`);
        //snippetBar.style.setProperty('--width', `${mainWidth}px`);
        //snippetBar.style.setProperty('--left', `${panelTransformX}px`);
    };

    
    
    </script>


   
    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!--CodeMirror Style Sheet-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/addon/edit/closebrackets.min.js"></script>

    <!--Interact.js for Drag and Resize-->
    <script src="https://cdn.jsdelivr.net/npm/interactjs@1.10.11/dist/interact.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {

            //Initial CSS style
            const root = document.getElement;
            let MainContainerAreaData = null;
            let panelPositionData=null;
            let snippetBarEachPositionData = null;
            let DividerEachPositionData = null;

            //Initial Css style for OptionButtonIcon
            const OptionButtonIcon = document.querySelectorAll(".OptionButton");
            let IconWidth =24;
            let IconHeight =24;
            OptionButtonIcon.forEach(icon => {
                icon.style.setProperty('--width', `${IconWidth}px`);
                icon.style.setProperty('--height', `${IconHeight}px`);
            });

            //Initial Css style for Topbar
            const TopbarData = {
                Height:50,
            };
            const Topbar=document.querySelector(".topbar");
            Topbar.style.setProperty('height', `${TopbarData.Height}px`);

            //Initial Css style for SidebarAndMain
            const SidebarAndMainData = {
                Top : TopbarData.Height,
                get Height(){ 
                    return window.innerHeight - this.Top;
                }
            }
            
            const SidebarAndMain = document.querySelector('.SidebarAndMain-container');
            function UpdateSidebarAndMainStyle(){
                SidebarAndMain.style.setProperty('--top', `${SidebarAndMainData.Top}px`);
                SidebarAndMain.style.setProperty('--height', `${SidebarAndMainData.Height}px`);
            }

            UpdateSidebarAndMainStyle();
            
            //Initial CSS style for sidebar
            const SidebarData ={
                get RightDivider(){
                    if (DividerEachPositionData != null){
                        return DividerEachPositionData.find(divider => divider.Position === "SidebarVsMain");
                    }
                    else {
                        return {TransformX: 0}
                    }
                },
                WidthInit :250,
                CurrentWidth:250,
                MinWidth:30,
                get Width() {
                    if (this.isClosed){
                        console.log("sidebar closed");
                        CurrentWidth = this.RightDivider.TransformX
                        this.RightDivider.TransformX = 0   
                    }
                    else{
                        this.RightDivider.TransformX = this.CurrentWidth
                    }
                    return this.RightDivider.TransformX;
                },
                isClosed: false,
                

            }
            //Sidebar open/close
            document.getElementById('SideBarButton').addEventListener('click', function() {
                if (!SidebarData.isClosed) {
                    //Collapse sidebar
                    SidebarData.isClosed=true;

                } else{
                    //Expand sidebar        
                    SidebarData.isClosed=false;                    
                }
                console.log(SidebarData);
                UpdateAllPosition();// set the width
            });
            
            const sidebar = document.querySelector('.SideBarContainer-1');

            function UpdateSidebarPosition(){
                sidebar.style.setProperty('--width', `${SidebarData.Width}px`);
            };
            UpdateSidebarPosition();

            MainContainerAreaData ={
                get LeftDivider(){ 
                    if (DividerEachPositionData != null){
                        return DividerEachPositionData.find(divider => divider.Position === 'SidebarVsMain')
                    }
                    else {
                        return {Width:0,TransformX:0};
                    }
                },
                get TransformX(){
                    return this.LeftDivider.TransformX + this.LeftDivider.Width 
                },
                get Width(){
                    return window.innerWidth - this.TransformX;
                },
                TransformY: SidebarAndMainData.Top,
                Height: SidebarAndMainData.Height,
            }

             //Initial CSS style for Each divider
            DividerEachPositionData=[
                {
                    Position:'SidebarVsMain',
                    ControlType:'vertical',
                    get Height(){
                        return SidebarAndMainData.Height;
                    },
                    Width:6,
                    gripWidth:2,
                    gripHeight:20,
                    gripColor : '#2B3245',
                    gripColorHover:'#e2d8d87f',
                    cursor:'col-resize',
                    backgroundColor:'#0E1525',
                    backgroundColorMove:'#4689b8',
                    CurrentDivider:null,
                    isDragging:false,
                    startX:0,
                    currentX:0,
                    InitialTransformX:0,
                    TransformX:SidebarData.WidthInit,//Change this
                    startY:0,
                    currentY:0,
                    InitialTransformY:0,
                    TransformY:0,
                },
                {
                    Position:'MiddleVsBottom',
                    ControlType:'horizontal',
                    Height:6,
                    get Width(){
                        return MainContainerAreaData.Width;
                    },
                    gripWidth:20,
                    gripHeight:2,
                    gripColor : '#2B3245',
                    gripColorHover:'#e2d8d87f',
                    cursor:'row-resize',
                    backgroundColor:'#0E1525',
                    backgroundColorMove:'#4689b8',
                    CurrentDivider:null,
                    isDragging:false,
                    startX:0,
                    currentX:0,
                    InitialTransformX:0,
                    get TransformX(){
                        return MainContainerAreaData.TransformX;
                    },
                    startY:0,
                    currentY:0,
                    InitialTransformY:0,
                    TransformY:MainContainerAreaData.Height*2/3,//change this
                },
                {
                    Position:'Top-LeftVsTop-Right',
                    ControlType:'vertical',
                    get BottomDivider() {
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom') ?? { Height: 0, TransformY: 0 };                  
                    },
                    get Height(){
                        return this.BottomDivider.TransformY - MainContainerAreaData.TransformY
                    },
                    Width:6,
                    gripWidth:2,
                    gripHeight:20,
                    gripColor : '#2B3245',
                    gripColorHover:'#e2d8d87f',
                    cursor:'col-resize',
                    backgroundColor:'#0E1525',
                    backgroundColorMove:'#4689b8',
                    CurrentDivider:null,
                    isDragging:false,
                    startX:0,
                    currentX:0,
                    InitialTransformX:0,
                    TransformX: MainContainerAreaData.Width/2, // Change this
                    startY:0,
                    currentY:0,
                    InitialTransformY:0,
                    TransformY:0
                }
            ]
            
            
            const dividers=document.querySelectorAll(".divider");//Select all the divider elements
            function UpdateDividerPosition(){
                //Initial each divider with its own --transformX Variable
                dividers.forEach(divider=>{
                    const Position = divider.getAttribute('dividerPosition');
                    DividerEachPositionData.forEach(item=>{ 
                        if (item.Position == Position){
                            divider.style.setProperty('--height',`${item.Height}px`);
                            divider.style.setProperty('--width',`${item.Width}px`);
                            divider.style.setProperty('--gripWidth',`${item.gripWidth}px`);
                            divider.style.setProperty('--gripHeight',`${item.gripHeight}px`);
                            divider.addEventListener('mouseenter',function(){
                                divider.style.setProperty('--gripColor',`${item.gripColorHover}`)
                            });
                            divider.addEventListener('mouseleave',function(){
                                divider.style.setProperty('--gripColor',`${item.gripColor}`)
                            });
                            divider.style.setProperty('--cursor',`${item.cursor}`);
                            divider.style.setProperty('--transformX', `${item.TransformX}px`);//--transformX Value is the same with sidebarWidth
                            divider.style.setProperty('--transformY', `${item.TransformY}px`);
                            if (item.isDragging==true){
                                divider.style.setProperty('--background-color', `${item.backgroundColorMove}`);
                            }
                            else {
                                divider.style.setProperty('--background-color', `${item.backgroundColor}`);
                            }
                        }
                    });
                });
            }
            UpdateDividerPosition();

            //Initial style for allsnippetBar
            const snippetBarAllPostionData ={
                Height : 32,
                Scale:1,
                TransitionDuration:0,
            }
            //Set up the data for snippetBar Position.The Position change as Top, Left, Width
            snippetBarEachPositionData = [
                { 
                    Position:'Top-Left', 
                    get RightDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'Top-LeftVsTop-Right');
                    },
                    get Top(){ 
                        return 0
                    },
                    get Left(){
                        return MainContainerAreaData.TransformX
                    },
                    get Width(){
                        if (this.RightDivider){
                            return this.RightDivider.TransformX - this.Left
                        }
                        else {
                            return MainContainerAreaData.Width
                        }
                    },
                    Height:snippetBarAllPostionData.Height,
                    Scale:snippetBarAllPostionData.Scale,
                    TransitionDuration:snippetBarAllPostionData.TransitionDuration,
                  },
                { 
                    Position:'Bottom', 
                    get TopDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom');
                    },
                    get Top(){ 
                        return this.TopDivider.TransformY + this.TopDivider.Height;
                    },
                    get Left(){
                        return MainContainerAreaData.TransformX
                    },
                    get Width(){
                        return MainContainerAreaData.Width
                    },
                    Height:snippetBarAllPostionData.Height,
                    Scale:snippetBarAllPostionData.Scale,
                    TransitionDuration:snippetBarAllPostionData.TransitionDuration,
                },
                { 
                    Position:'Top-Right', 
                    get LeftDivider() {
                        return DividerEachPositionData.find(divider => divider.Position === 'Top-LeftVsTop-Right');
                    },
                    get BottomDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom');
                    },
                    get Top(){ 
                        return 0;
                    },
                    get Left(){
                        return this.LeftDivider.TransformX + this.LeftDivider.Width 
                    },
                    get Width(){
                        return window.innerWidth - this.Left 
                    },
                    Height:snippetBarAllPostionData.Height,
                    Scale:snippetBarAllPostionData.Scale,
                    TransitionDuration:snippetBarAllPostionData.TransitionDuration,
                },
                
            ]
                  
            const snippetBars=document.querySelectorAll('.snippetBar');

            //function for updating snippetBar of each Position
            function UpdateSnippetBarPosition(){
                snippetBars.forEach((snippetBar,index) =>{
                    const Position = snippetBar.getAttribute('panelPosition');
                    snippetBarEachPositionData.forEach(item => {
                        if (item.Position === Position) {
                            snippetBar.style.setProperty('--left', `${item.Left}px`);
                            snippetBar.style.setProperty('--top', `${item.Top}px`);
                            snippetBar.style.setProperty('--width', `${item.Width}px`);
                            snippetBar.style.setProperty('--height', `${item.Height}px`);
                            snippetBar.style.setProperty('--scale',`${item.Scale}`);
                            snippetBar.style.setProperty('--transitionDuration', `${item.TransitionDuration}ms`);
                        }
                    });
                });
            };
            
            //Initial style for each snippetBar of each Position
            UpdateSnippetBarPosition();
            //Initial style for allpanel
            const panels =document.querySelectorAll('.panelAll1');

            
            //Set up the data for snippetBar Position.The Position change as TransformX,TransformY, Width,Height
            panelPositionData =[
                { 
                    Position:'Top-Left',
                    get OwnSnippetBar(){
                        return snippetBarEachPositionData.find(snippet => snippet.Position === this.Position);
                    },
                    get LeftDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'SidebarVsMain');
                    },
                    get BottomDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom') ?? {TransformX:0,TransformY:0,Height:0,Width:0};
                    },  
                    get Width(){ 
                        return this.OwnSnippetBar.Width;
                    },
                    get Height(){
                        return this.BottomDivider.TransformY - this.TransformY 
                    },
                    get TransformX(){
                        return this.OwnSnippetBar.Left;
                    },
                    get TransformY(){
                        return this.OwnSnippetBar.Top + this.OwnSnippetBar.Height
                    },
                    TransformScale:1,
                    TransitionDuration:0  
                },
                {
                    Position:'Bottom',
                    get OwnSnippetBar(){
                        return snippetBarEachPositionData.find(snippet => snippet.Position === this.Position);
                    },
                    get LeftDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'SidebarVsMain');
                    },
                    get TopDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom');
                    },
                    get Width(){ 
                        return this.OwnSnippetBar.Width
                    },
                    get Height(){
                        return MainContainerAreaData.Height-this.TransformY
                    },
                    get TransformX(){
                        return this.OwnSnippetBar.Left;
                    },
                    get TransformY(){
                        return this.OwnSnippetBar.Top + this.OwnSnippetBar.Height
                    },
                    TransformScale:1,
                    TransitionDuration:0  
                },
                {
                    Position:'Top-Right',
                    get OwnSnippetBar(){
                        return snippetBarEachPositionData.find(snippet => snippet.Position === this.Position);
                    },
                    get LeftDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'SidebarVsMain');
                    },
                    get BottomDivider(){
                        return DividerEachPositionData.find(divider => divider.Position === 'MiddleVsBottom');
                    },
                    get Width(){ 
                        return this.OwnSnippetBar.Width
                    },
                    get Height(){
                        return this.BottomDivider.TransformY - this.TransformY 
                    },
                    get TransformX(){
                        return this.OwnSnippetBar.Left;
                    },
                    get TransformY(){
                        return this.OwnSnippetBar.Top + this.OwnSnippetBar.Height
                    },
                    TransformScale:1,
                    TransitionDuration:0  
                },
            ]
            //function for updating snippetBar of each Position
            function UpdatePanelPosition(){
                panels.forEach((panel,index)=>{
                    
                    const Position = panel.getAttribute('panelPosition');
                    panelPositionData.forEach((item,index) => {
                        if (item.Position === Position){
                        panel.style.setProperty('--width',`${item.Width}px`);
                        panel.style.setProperty('--height',`${item.Height}px`);
                        panel.style.setProperty('--transformX', `${item.TransformX}px`);
                        panel.style.setProperty('--transformY', `${item.TransformY}px`);
                        panel.style.setProperty('--scale', item.TransformScale);
                        panel.style.setProperty('--transitionDuration', `${item.Transitionduration}ms`);
                        console.log("setupPanel",item.Position);
                        }
                    });
                });
            }

            //Initial style for each panel with position
            UpdatePanelPosition();
            //Initial style for panel Bottom
            const panelBottom = document.querySelector('.panelBottom');
            let panelBottomHeight=29;
            panelBottom.style.setProperty('--height',`${panelBottomHeight}px`);

            
            //Set the function to move divider
            dividers.forEach(divider=>{
                //Mousedown events to start dragging a specific divider
                divider.addEventListener('mousedown',function(e) {
                    const Position = divider.getAttribute('dividerPosition');
                    const Item = DividerEachPositionData.find(item => item.Position === Position);
                    
                    Item.isDragging = true;
                    Item.startX = e.clientX;
                    Item.InitialTransformX = Item.TransformX;
                    Item.startY = e.clientY;
                    Item.InitialTransformY = Item.TransformY;
                    
                    console.log('mousedown')
                });

                //Mouse move event to handle dragging
                document.addEventListener('mousemove', function(e) {
                    DividerEachPositionData.forEach(item => {
                        if (item.isDragging) {
                            if (item.ControlType ==='vertical') {
                                item.currentX = e.clientX - item.startX;
                                item.TransformX = item.InitialTransformX + item.currentX;
                                //console.log('Sidebar',SidebarData.Width,SidebarData.isClosed);
                                item.TransformX = item.TransformX < SidebarData.MinWidth ? 0 : item.TransformX;
                                
                                console.log(item.TransformX);


                                // Update the sidebar width and divider transformX
                                if (item.Position === 'SidebarVsMain'){
                                    console.log('SidebarChange');
                                    SidebarData.CurrentWidth = item.TransformX;
                                }
                            }
                            else if (item.ControlType ==='horizontal'){
                                item.currentY = e.clientY - item.startY;
                                item.TransformY = item.InitialTransformY + item.currentY;
                                
                                console.log(item.TransformY);
                            }
                            // Update other UI components based on the sidebarâ€™s new width
                            UpdatePanelPosition();
                            UpdateSidebarPosition();
                            UpdateDividerPosition();
                            UpdateSnippetBarPosition();
                        }
                    });
                });

                // Mouse up event to stop dragging 
                document.addEventListener('mouseup', function() {
                    DividerEachPositionData.forEach(item =>{
                        if (item.isDragging){
                            item.isDragging = false;
                            UpdateAllPosition();
                            console.log('mouseup')
                        }
                   })               
                });
            });

            function UpdateAllPosition(){
                UpdatePanelPosition();
                UpdateSidebarPosition();
                UpdateDividerPosition();
                UpdateSnippetBarPosition();
            };
            UpdateAllPosition();
    

//-----------------------------------------------------------------------------------------------
            

            var snippetTextareas = document.querySelectorAll('textarea[id^="code-"]');
            var snippetId = null;
            snippetTextareas.forEach(function(textarea) {
                var editor = CodeMirror.fromTextArea(textarea, {
                    lineNumbers: true,
                    mode: "python",  // Change to your desired language
                    matchBrackets: true,
                    autoCloseBrackets: true,
                    theme: "dracula"  // Set the theme to dracula for a dark background
                });

                
    
                // Enable real-time resizing
                editor.on("change", function() {
                    textarea.value = editor.getValue();
                });
    
                window.addEventListener('resize', function() {
                    editor.setSize("100%","100%");

                });
                

                editor.setSize("100%","100%");

            });
//----------------------------------------------------------------
            //Output

            let OutputDataHistory = [];
            const maxEntries = 10;
            const output=document.getElementById("output");


            function addToOutputDataHistory(status, data, duration) {
                const debugEntry = {
                    Status: status,//status=true means Debug succeeded, false means Error
                    Data: data,//// Stores response data or error messages
                    DebugDuration: duration,// Store duration in milliseconds
                    When: Date.now()
                };

                if (OutputDataHistory.length >= maxEntries) {
                    OutputDataHistory.shift(); // Remove the oldest entry if max limit reached
                }
                OutputDataHistory.push(debugEntry);
                console.log("Current OutputDataHistory:", OutputDataHistory); // Log for verification
                output.innerHTML 
            }


            document.getElementById('Debug').addEventListener('click', function() {
                const startTime = Date.now();
                const activeEditor = document.querySelector('.CodeMirror');
                if (activeEditor) {
                    const textarea = activeEditor.CodeMirror.getTextArea();
                    textarea.value = activeEditor.CodeMirror.getValue(); // Ensure textarea value is updated
                    const form = textarea.closest('form');
                    if (form) {
                        const snippetId = textarea.id.split('-')[1];
                        console.log("Snippet ID:", snippetId);
                        document.getElementById('current-snippet-id').value = snippetId; // Log the snippet ID
                        const code = textarea.value;
                        const url = `/'{{username}}'/'{{project.title}}'/save_snippet/${snippetId}/`;
                        fetch(url, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRFToken': '{{ csrf_token }}'
                            },
                            body: JSON.stringify({ code: code })
                        })
                        .then(response => {
                            if (!response.ok) {
                                console.log("data:",'{{data}}')
                                return response.text().then(text => { throw new Error(text) });
                            }
                            return response.json();
                        })
                        .then(data => {
                            const debugDuration = Date.now() - startTime;
                            console.log('Snippet saved successfully:', data);
                            if (data.output){
                                addToOutputDataHistory(true, data.output,debugDuration);
                            }
                            else if (data.error){
                                addToOutputDataHistory(false, data.error,debugDuration);
                            }
                        })
                        .catch(error => {
                            console.error('Error:', error);
                            alert('An error occurred: ' + error.message);
                        });
                    }
                } else {
                    checkCodeMirrorValue();
                    alert('No active editor to save.');
                }
        });

            //Output Show History Toggle
            // Select the hidden checkbox and the SVG elements
            const ShowOnlyToggleCheckbox = document.querySelector(".panelOutputOptionShow2 input");
            const svgBackground = document.querySelector(".svgBackground");
            const svgKnob = document.querySelector(".svgKnob");

            // Function to update the SVG based on the checkbox state
            function updateToggleSwitch() {
            if (ShowOnlyToggleCheckbox.checked) {
                // When checked (ON state)
                svgBackground.setAttribute("fill", "#0079F2"); // Active background color
                svgKnob.setAttribute("x", "18"); // Move knob to the right
            } else {
                // When unchecked (OFF state)
                svgBackground.setAttribute("fill", "#3C445C"); // Inactive background color
                svgKnob.setAttribute("x", "4"); // Move knob to the left
            }
            }

            // Initialize the toggle appearance based on the initial state
            updateToggleSwitch();

            // Add a click event listener to the label to toggle the checkbox and update the SVG
            document.querySelector(".panelOutputOptionShow2").addEventListener("click", function () {
            // Toggle the checkbox state
            ShowOnlyToggleCheckbox.checked = !ShowOnlyToggleCheckbox.checked;
            
            // Update the SVG appearance based on the new state
            updateToggleSwitch();

            // Optional: Log the current state or perform additional actions
            console.log(ShowOnlyToggleCheckbox.checked ? "Switch is ON" : "Switch is OFF");
            });            
//----------------------------------------------------------------    
            //FeedBack
            var onlyCodeOption = document.getElementById("only-code");
            var withoutCodeOption = document.getElementById("without-code");
            var feedback = document.getElementById("feedback");
            
            //The Option will appear after debug
            //FeedBack will appear if the option been clicked
             // Handle the help option click
             document.getElementById('please-help').addEventListener('click', function() {
                document.getElementById('feedback-container').style.display = 'block';
                document.getElementById('help-option').style.display = 'none';
            });
            
            // Handle the do it myself click
            document.getElementById('do-it-myself').addEventListener('click', function() {
                document.getElementById('help-option').style.display = 'none';
            });
    
            // Function to send the selected feedback option to the backend
            function sendFeedback(option) {
                var snippetId = document.getElementById('current-snippet-id').value; // Get snippet ID from hidden input
                console.log(snippetId)
                if (!snippetId) {
                    alert("No snippet selected");
                    return;
                }
                fetch(`/'{{username}}'/'{{project.title}}'/feedback/50/`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    body: JSON.stringify({ feedback_option: option })
                })
                .then(response => {
                    if (!response.ok) {
                        return response.text().then(text => { throw new Error(text) });
                    }
                    return response.json();
                })
                .then(data=> {
                    console.log('Feedback option sent successfully:', data);
                    if (option == "only_code"){
                        displayFeedbackOnlyCode(data.output,data.diff);
                    }
                    else {
                        displayFeedbackWithoutCode(data.output)
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred: ' + error.message);
                });
            }
    
            function displayFeedbackOnlyCode(output,diff) {
                feedback.innerHTML = '<div id="feedback-code"></div>';
                var feedbackCodeDiv = document.getElementById("feedback-code");
                
                diff.forEach(line => {
                    var lineElement = document.createElement('div');
                    lineElement.textContent = line;
                    
                    if (line.startsWith('+')) {
                        lineElement.style.backgroundColor = 'rgba(0, 255, 0, 0.2)';  // Green background for additions
                    } else if (line.startsWith('-')) {
                        lineElement.style.backgroundColor = 'rgba(255, 0, 0, 0.2)';  // Red background for deletions
                    } else if (line.startsWith('@')) {
                        lineElement.style.backgroundColor = 'rgba(0, 0, 255, 0.2)';  // Blue background for line info
                    }
    
                    feedbackCodeDiv.appendChild(lineElement);
                });
    
                feedback.innerHTML += `<p>${output}</p>`;
            }
            
    
            function displayFeedbackWithoutCode(output){
                document.getElementById("feedback").innerText = output;
            }
    
            onlyCodeOption.addEventListener("click", function() {
                onlyCodeOption.classList.add("active");
                withoutCodeOption.classList.remove("active");
                feedback.textContent = "Wait for FeedBack Only Code";
                sendFeedback('only_code');
            });
    
            withoutCodeOption.addEventListener("click", function() {
                withoutCodeOption.classList.add("active");
                onlyCodeOption.classList.remove("active");
                feedback.textContent = "Wait for FeedBack Without Code";
                sendFeedback('without_code');
            });
        });


    </script>
<style>
    body {
        background-color: var(--background-root,#0E1525);
        font-family: var(--font-family-default);
        font-size: var(--font-size-default,14px);
        color: var(--foreground-default,#f5f9f5);
    }
    input{
        color:#f5f9f5;
    }
    *{
        scrollbar-color: var(--background-highest,#3C445C) var(--background-default,#1C2333);
    }
    .AllContainer1{

    }
    .AllContainer2{
        width: 100%;
        position: relative;
        padding-top: 0px;
        min-height: 100vh;
    }
    .AllContainer3{
        min-height: 100vh;
        width: 100%;
        position: relative;
        background-color: var(--background-root,#0E1525);
        padding-top: 0px;
    }
    .AllContainer4 {
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        background-color: var(--background-root,#0E1525);
        --surface-background: var(--background-root,#0E1525);
        --interactive-background: var(--background-default,#1C2333);
        --interactive-background--active: var(--background-higher,#2B3245);
        --interactive-border: var(--outline-dimmest,#2B3245);
        --interactive-border--hover: var(--outline-default,#4E5569);
        position: fixed;
        top: 0px;
        left: 0px;
        height: 100%;
        width: 100%;
    }
/******************************** Top Bar ********************************/
    .topbar {
        position: absolute;
        display:grid;
        grid-template-columns: 1fr max-content 1fr;
        border-width: 0px;
        border-style: solid;
        box-sizing:border-box;
        flex-basis:auto;
        flex-direction: column;
        flex-shrink: 0;
        outline:none;
        min-height:0px;
        min-width: 0px;
        width:100%;
        top:0px;
        left:0px;
        background-color: #f8f9fa;
        padding: 8px 12px;
        border-bottom: 1px solid #dee2e6;
        align-items: center;
        -webkit-box-align:center;
        color:black;
    }

    .topbar-left {
        border-width: 0px;
        border-style:solid;
        box-sizing:border-box;
        flex-basis:auto;
        flex-shrink: 0;
        outline:none;
        min-height:0px;
        min-width:0px;
        display: flex;
        flex-direction: row;
        -webkit-box-align:center;
        align-items: center;
        -webkit-box-pack:start;
        justify-content: flex-start;
    }

    .topbar-middle {
        display:flex;
        border-width:0px;
        border-style:solid;
        box-sizing:border-box;
        flex-basis:auto;
        flex-shrink: 0;
        min-height:0px;
        min-width:0px;
        position:relative;
        flex-direction:row;
        gap:8px;
        align-items:center;
    }

    .topbar-right {
        display:flex;
        border-width:0px;
        border-style:solid;
        box-sizing:border-box;
        flex-basis:auto;
        flex-shrink: 0;
        min-height:0px;
        min-width:0px;
        flex-direction:row;
        gap:6px;
        align-items: center;
        justify-content: flex-end;
    }

    #Debug {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        background-color: #046c00;
        color: #fff;
        border: none;
        cursor: pointer;
        width:100px;
    }

/******************************** Top Bar ********************************/

/******************************** SidebarAndMain ********************************/

    .SidebarAndMain-container {
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        width: 100%;
        left: 0px;
        position: absolute;
        height:var(--height);
        top:var(--top);
    }

/******************************** SideBar ********************************/

    #SideBarButton {
            margin-left: 10px; 
    }

    .SideBarContainer-1{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
        display: flex;
        flex-direction: row;
        -webkit-box-flex: 1;
        overflow: auto;
        opacity: var(--opacity,1);
        pointer-events: var(--pointerEvents,auto);
        transition: opacity 0.2s 200ms;
        width: var(--width);
        visibility: var(--sidebarVisibility ,visible);
    }

    .SideBarContainer-2{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        visibility: var(--mainContentVisibility,visible);
    }

    .SideBarContainer-3{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        position: absolute;
        flex-direction: column;
        gap: var(--space-4);
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        min-width: 180px;
        animation: 0.2s ease-in-out 0s 1 normal none running animation-5j8bii;
    }

    .SideBarSearch-1{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        padding-left: 8px;
        z-index: 3;
    }

    .SideBarSearch-2{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        top: 0px;
        left: 0px;
        width: 100%;
        z-index: 3;
    }
    .SideBarContainer-2 > div:first-of-type > div:first-of-type{
        padding-left: 0px;
        padding-right: 0px;
        padding-top: 0px;
    }

    .SideBarSearch-3{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        -webkit-box-flex: 1;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: row;
        -webkit-box-pack: center;
        justify-content: center;
        border-radius: 4px;
        container-name: CommandBar;
        container-type: var(--containerType,normal);
    }

    .SideBarSearch-4{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex: 1 1 auto;
        flex-direction: column;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        -webkit-box-flex: 1;
        max-width: calc(600px - 16px);
        font-size: var(--fontSize,14px);
        max-width:100%;
    }

    .SideBarSearch-5{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        padding-bottom: 0px;
        padding-top: var(--inputBarPadding,0px);
        padding-inline: var(--inputBarPadding,0px);
    }

    .SideBarSearch-6{
        transition-property: background-color, box-shadow;
        transition-duration: 120ms;
        transition-timing-function: ease-out;
        background-color: var(--interactive-background,#1C2333);
        border-color: transparent;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        display: flex;
        flex-direction: row;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-flex: 1;
        height: 2.29em;
        border-radius: 0.29em;
    }
    .SideBarSearch-6:hover{
        cursor: pointer;
    }
    .SideBarSearch-Input{
        -webkit-box-align: stretch;
        align-items: stretch;
        box-sizing: border-box;
        display: flex;
        flex: 1 1 auto;
        flex-direction: column;
        min-height: 0px;
        min-width: 0px;
        -webkit-box-flex: 1;
        height: 100%;
        font-size: 1em;
        padding: 0px 0.57em;
        background-color: transparent;
        border: 0px none;
        outline: none 0px;
    }

    .SideBarFilesHistory{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex: 1 1 auto;
        flex-direction: column;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        -webkit-box-flex: 1;
    }

    .SideBarFilesOptions{
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        flex-direction: row;
        gap: 4px;
        -webkit-box-align: center;
        align-items: center;
        height: 36px;
        user-select: none;
    }

    .SideBarFilesOptionsLeft{
        box-sizing: border-box;
        display: flex;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        border: none;
        background: transparent;
        color: inherit;
        font-style: inherit;
        font-variant: inherit;
        font-weight: inherit;
        font-stretch: inherit;
        font-size: inherit;
        font-family: inherit;
        font-optical-sizing: inherit;
        font-size-adjust: inherit;
        font-kerning: inherit;
        font-feature-settings: inherit;
        font-variation-settings: inherit;
        line-height: normal;
        app-region: no-drag;
        user-select: none;
        height: 100%;
        border-radius: 4px;
        margin-left: 8px;
        -webkit-box-flex: 1;
        flex-direction: row;
        gap: 4px;
        -webkit-box-align: center;
        align-items: center;
        cursor: pointer;
        position: relative;
    }

    .ButtonExplain{
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        flex-direction: row;
        gap: 4px;
        -webkit-box-align: center;
        align-items: center;
    }

    .ButtonExplainSpan{
        -webkit-box-align: stretch;
    align-items: stretch;
    border-width: 0px;
    border-style: solid;
    box-sizing: border-box;
    flex-basis: auto;
    flex-direction: column;
    flex-shrink: 0;
    outline: none;
    min-height: 0px;
    min-width: 0px;
    display: inline;
    overflow-wrap: break-word;
    line-height: var(--lineHeight,1.6);
    color: var(--color);
    font-weight: var(--font-weight-medium,500);
    font-size: 13px;
    }

    .SideBarFilesOptionsRight{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        flex-direction: row;
        gap: 4px;
        padding-right: 2px;
    }
    
    .SideBarFilesIndex1{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex: 1 1 auto;
        flex-direction: column;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        -webkit-box-flex: 1;
        overflow-y: auto;
        scrollbar-width: none;
        position: relative;
    }

    .SideBarFilesIndex2{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        padding-bottom: 8px;
    }

    .SideBarFilesIndex3{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
    }

    .SideBarFilesIndex4{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        padding-left:8px;
    }

    .SideBarFilesIndex5{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-width: 0px;
        padding-left: 2px;
        padding-right: 2px;
        position: relative;
        overflow-y: auto;
        height: 100%;
        min-height: var(--minHeight,24px);
    }

    .SideBarFilesIndex6{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: relative;
        height: var(--scrollHeight,88px);
    }
    
    .SideBarFilesTreeItems{
        box-sizing: border-box;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: absolute;
        top: 0px;
        left: 0px;
        width: calc(100% - var(--rowLeftIndent,0px));
        height: var(--rowHeight,24px);
        transform: translateY(var(--rowY,8px));
        margin-left: var(--rowLeftIndent,0px);
        -webkit-box-flex: 1;
        display: flex;
        flex-direction: row;
        -webkit-box-align: center;
        align-items: center;
        transition-property: background-color, box-shadow;
        transition-timing-function: ease-out;
        border-width: 1px;
        border-style: solid;
        border-color: transparent;
        background-color: var(--nodeBackgroundColor,transparent);
        border-radius: var(--borderRadius,4px);
        cursor: pointer;
        --hasUnsavedChangesDisplay: flex;
        transition-duration: 0ms;
    }
    .SideBarFilesTreeItems:hover{
        cursor:pointer;
    }

    .SideBarFilesTreeItems1{
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        flex: 1 1 auto;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        display: flex;
        flex-direction: row;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-flex: 1;
        padding-left: var(--horizontalPadding,4px);
        padding-right: var(--horizontalPadding,4px);
    }

    .SideBarFilesIcon{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        margin-right: var(--iconTextGap,6px);
    }

    .SideBarFilesIcon img{
        min-width: var(--iconSize,16px) !important;
        min-height: var(--iconSize,16px) !important;
        width: var(--iconSize,16px) !important;
        height: var(--iconSize,16px) !important;
    }

    .SideBarFilesName{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        flex: 1 1 auto;
        flex-direction: column;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        display: inline-block;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-size: var(--fontSize,13px);
        -webkit-box-flex: 1;
        color: var(--statusColor,#C2C8CC);
    }

    .SideBarFilesMenuButton{
        box-sizing: border-box;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        border: 1px solid transparent;
        background: transparent;
        color: inherit;
        font-style: inherit;
        font-variant: inherit;
        font-weight: inherit;
        font-stretch: inherit;
        font-size: inherit;
        font-family: inherit;
        font-optical-sizing: inherit;
        font-size-adjust: inherit;
        font-kerning: inherit;
        font-feature-settings: inherit;
        font-variation-settings: inherit;
        line-height: normal;
        app-region: no-drag;
        user-select: none;
        height: 100%;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: center;
        justify-content: center;
        cursor: pointer;
        transition-property: background-color, box-shadow;
        transition-timing-function: ease-out;
        display: var(--contextMenuButtonDisplay,none);
        border-radius: 0 var(--borderRadius,4px) var(--borderRadius,4px) 0;
        transition-duration: 0ms;
    }

    .SideBarFilesHistoryDivider1{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: relative;
        height: 0px;
        width: 100%;
        z-index: 1;
        cursor: ns-resize;
    }
    
    .SideBarFilesHistoryDivider2{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width: 0px;
        border-style: solid;
        box-sizing: border-box;
        display: flex;
        flex-basis: auto;
        flex-direction: column;
        flex-shrink: 0;
        outline: none;
        min-height: 0px;
        min-width: 0px;
        position: relative;
        height: 8px;
        top: -4px;
    }
/******************************** SideBar ***************************/

    /*Divider*/
    .divider{
        border-width:0px;
        border-style:solid;
        box-sizing:border-box;
        display:flex;
        flex-basis:auto;
        flex-direction:auto;
        flex-shrink: 0;
        outline:none;
        -webkit-box-align:center;
        align-items: center;
        -webkit-box-pack:center;
        justify-content: center;
        position:absolute;
        top:0px;
        left:0px;
        opacity:1;
        transition:opacity 0.2s 200ms;
        transform:translate(var(--transformX,0px), var(--transformY,0px));
        width:var(--width);
        height:var(--height);
        cursor:var(--cursor);
        background-color:var(--background-color);
    }
    .divider:hover{
        --gripColor:#e2d8d87f;
    }
    .blanket{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width:0px;
        border-style:solid;
        box-sizing:border-box;
        display: flex;
        flex-basis:auto;
        flex-direction: column;
        flex-shrink: 0;
        outline:none;
        min-height:0px;
        min-width:0px;
        position:absolute;
        top:0px;
        left:0px;
        width:100%;
        height:100%;
    }

    .grip{
        -webkit-box-align: stretch;
        align-items: stretch;
        border-width:0px;
        border-style:solid;
        box-sizing:border-box;
        display: flex;
        flex-basis:auto;
        flex-direction: column;
        flex-shrink: 0;
        outline:none;
        min-height:0px;
        min-width:0px;
        border-radius:4px;
        visibility:var(--gripVisibility);
        background:var(--gripColor,#2B3245);
        height:var(--gripHeight);
        width: var(--gripWidth);
        transition-property: opacity, width, height, background-color;
        transition-timing-function:ease-out;
    }
    main{
        display:block;
    }

    .MainContainer {
        animation:0.2s ease-in-out 0s 1 normal none;
        transition:opacity 0.2s 200ms;
    }

</style>
</body>
</html>
